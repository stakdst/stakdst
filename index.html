<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>英単語4択クイズ (English→日本語)</title>
<style>
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; padding: 20px; background:#fafafa; color:#111; }
.container { max-width: 900px; margin: 0 auto; background:white; padding:20px; box-shadow:0 2px 8px rgba(0,0,0,0.06); border-radius:8px; }
h1 { margin-top:0; }
.controls { margin-bottom: 18px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.word { font-size: 2rem; margin: 16px 0; }
.choices { display:flex; flex-direction:column; gap:8px; margin-bottom:12px; }
.choiceBtn { padding:10px; font-size:1rem; cursor:pointer; border:1px solid #ddd; background:#fff; border-radius:6px; text-align:left; transition:background 0.3s; }
.choiceBtn:hover { box-shadow:0 1px 4px rgba(0,0,0,0.06); }
.correct { background:#ff9999 !important; } /* 赤 */
.wrong { background:#99ccff !important; }  /* 青 */
#result { margin-top:10px; font-weight:bold; min-height:1.2em; }
.small { font-size:0.9rem; color:#555; }
footer { margin-top:18px; font-size:0.85rem; color:#666; }
.progress { font-weight:600; }
.timer { font-size:1.2rem; font-weight:bold; margin:10px 0; }
select { font-size:1rem; padding:4px; }
</style>
</head>
<body>
<div class="container">
  <h1>英単語4択クイズ</h1>

  <div class="controls">
    <label class="small">範囲: <input id="rangeStart" type="number" min="1" value="1" style="width:70px"> 〜 
      <input id="rangeEnd" type="number" min="1" value="200" style="width:70px"></label>
    <label class="small">制限時間: 
      <select id="minuteSelect"></select> 分 
      <select id="secondSelect"></select> 秒
    </label>
    <button id="startBtn">スタート</button>
  </div>

  <div id="quizArea" class="hidden">
    <div class="progress" id="progress">0 / 0</div>
    <div id="globalTimer" class="timer"></div>
    <div id="englishWord" class="word"></div>
    <div id="choices" class="choices"></div>
  </div>

  <div id="summary" class="hidden"></div>
  <footer>単一ファイル版</footer>
</div>

<script>
/* ===== サンプル200語 ===== */
const sampleWords = `english, japanese
見る,"思う,(男女の)関係を結ぶ,面倒を見る"
見す,"結婚させる"
見ゆ,"見える、思われる,見せる,(女性が)結婚する"
かいまみる(垣間見る),"のぞき見る"
よばふ(呼ばふ),"呼び続ける,求婚する"
好く,"風流を好む"
わたる(渡る),"通る,(主に「わたらせ給ふ」の形で)いらっしゃる,〜続ける,一面に"
ありく(歩く),"出歩く,〜しまわる,〜続ける"
おこなふ(行ふ),"仏道修行をする"
なやむ(悩む),"病気になる"
おこたる(怠る),"病気が治る"
おくる(後る、遅る),"先立たれる"
ながむ(眺む、詠む),"もの思いに沈む,(漢詩や和歌を)口ずさむ"
ときめく(時めく),"寵愛を受ける,栄える"
かしづく,"大切に育てる,大切に世話をする"
めづ(愛づ),"愛する,感嘆する"
おどろく(驚く),"目を覚ます,気づく"
こうず(困ず),"疲れる"
おぼゆ(覚ゆ),"思われる,思い出される,似る"
聞こゆ,"聞こえる,評判になる,分かる"
まもる、まぼる(守る),"見つめる"
たのむ(頼む),"あてにする,あてにさせる"
かづく(被く),"かぶる,いただく,与える"
ののしる,"大声で騒ぐ,評判になる,羽振りをきかす"
やる(遣る),"送る,〜きれない"
いらふ(答ふ),"答える"
にほふ(匂ふ),"美しく映える"
あきらむ(明らむ),"明らかにする"
ねんず(念ず),"がまんする"
まうく(設く),"用意する"
ゐる(居る、率る),"座る,〜ている,連れる"
具す,"伴う、連れる、添える"
経(ふ),"(時間が)たつ,(場所を)通る"
さる(避る、去る),"避ける,なる"
ものす(物す),"する,いらっしゃる"
ならふ(慣らふ、馴らふ),"慣れる,なじむ"
しのぶ(忍ぶ、偲ぶ),"がまんする,人目につかないようにする,思い出す"
わぶ(侘ぶ),"困る、嘆く,〜かねる"
をかし,"すばらしい,滑稽だ"
よろし,"悪くはない,普通だ"
ありがたし,"めったにない,すばらしい"
つきづきし(付き付きし),"似つかわしい"
なまめかし,"上品だ,若々しい"
めでたし,"すばらしい"
うるはし,"きちんとしている,美しい"
やむごとなし,"高貴だ,並々でない"
おとなし(大人し),"思慮分別がある,主だっている"
ゆかし,"見たい、聞きたい、知りたい,心ひかれる"
なつかし,"親しみ深い"
はづかし(恥づかし),"立派だ"
こころにくし,"奥ゆかしい"
うつくし(美し),"かわいい"
かなし,"いとしい"
らうたし,"かわいい"
めやすし(目安し),"(見た目の)感じがよい"
あやし(怪し、賤し),"不思議だ,身分が低い,粗末だ"
さうざうし,"もの足りない"
つれなし,"平然としている,冷淡だ"
なめし,"無礼だ"
おどろおどろし,"大げさだ,気味が悪い"
憂し(うし),"つらい、いやだ"
むつかし,"うっとうしい,気味が悪い"
すさまじ,"興ざめだ,殺風景だ"
びんなし(便無し),"不都合だ,気の毒だ"
いとほし,"気の毒だ"
いはけなし,"子どもっぽい"
つらし,"薄情だ"
ところせし(所狭し),"(物理的に)窮屈だ,(心理的に)窮屈だ"
うしろめたし,"気がかりだ"
かたはらいたし,"きまり悪い,苦々しい,気の毒だ"
わりなし,"ひどい,どうしようもない,苦しい"
本意なし(ほいなし),"残念だ"
あさまし,"驚くほどだ,あきれるほどだ,情けない"
めざまし,"気にくわない,すばらしい"
いみじ,"すばらしい,ひどい,とても"
ゆゆし,"不吉だ,すばらしい,はなはだしく"
やさし,"優美だ、上品だ,殊勝だ"
しるし(著し),"はっきりと分かる,〜(の)とおりに"
とし(疾し),"早い"
ゆくりなし,"突然だ"
おぼつかなし,"はっきりしない,気がかりだ,待ち遠しい"
心もとなし,"かすかだ,不安だ,じれったい"
あはれなり,"しみじみと心に深く感じられる"
つれづれなり(徒然なり),"(することもなく)退屈である,(しんみりと)ものさびしい"
すずろなり、そぞろなり(漫ろなり),"なんということ(わけ)もない,思いがけない,むやみやたらだ"
まめなり、まめやかなり,"まじめである,実用的である"
あだなり(徒なり),"はかない,浮気だ"
いたづらなり(徒らなり),"役に立たない,むなしい"
優なり(いうなり),"優れている,優雅である"
あてなり(貴なり),"高貴である,上品である"
あからさまなり,"(「あからさまに」の形で)ほんのちょっと"
みそかなり(密かなり),"(「みそかに」の形で)ひそかに"
おろかなり(疎かなり),"いい加減だ,並ひととおりだ,(「〜とはおろかなり」などの形で)(〜という言葉では)言い尽くせない"
をこなり,"愚かだ、ばかばかしい"
むげなり(無下なり),"ひどい,(「むげに」の形で)ひどく"
なかなかなり,"中途半端だ,かえってしないほうがよい、かえってないほうがましだ"
手(て),"字,演奏法"
文、書(ふみ),"手紙,漢詩"
消息(せうそこ),"手紙,訪問の申し入れ"
あそび(遊び),"管弦の遊び"
うへ(上),"帝,奥様(北の方)"
おほやけ(公),"朝廷,帝"
うち(内裏、内),"宮中,帝"
御前(おまへ),"お側"
みゆき(御幸、行幸),"帝や上皇のお出まし"
たより(頼り、便り),"よりどころ,つて,よい機会"
物語(ものがたり),"世間話"
ためし(例),"先例"
いそぎ(急ぎ),"準備"
用意(ようい),"気配り"
かたち(形、容貌),"容貌"
かげ(影/陰),"光,姿"
けしき(気色),"様子,機嫌,意向"
こころざし(心ざし、志),"愛情,お礼の贈り物"
本意(ほい),"かねてからの願い"
こと(言),"言葉,和歌"
わざ(業),"こと(事),葬儀"
よろづ(万),"さまざま,何ごとにつけても"
ことわり(理),"道理"
ひがこと、ひがごと(僻事),"間違い"
そらごと(空言、虚事),"嘘"
しるし(験、徴),"効き目,ご利益,きざし"
料(れう),"ため"
禄(ろく),"ほうび(の品物)"
としごろ(年頃、年比、年来),"長年"
つとめて,"早朝,翌朝"
世、世の中,"男女の仲、夫婦の仲"
いかで、いかでか,"どうして、どのように(〜だろうか)｛疑問｝,どうして(〜だろうか、いや、〜ない)｛反語｝,なんとかして)"
いかが、いかに,"どのように、どうして｛疑問｝,どうして｛反語｝,どんなにか"
など、などか、などて、なじかは,"どうして(〜か)"
いつしか,"いつの間にか,(できるだけ)早く"
おのづから(自ら),"たまたま,もしかして"
なほ(猶),"依然として,なんといってもやはり、それでもやはり,さらに"
いとど,"ますます"
げに(実に),"本当に"
かく,"このように"
さ,"そのように"
しか,"そのように"
と,"あのように"
やがて,"(ある状態が)そのまま,(時間的に)すぐに"
すなはち,"すぐに"
やうやう,"しだいに"
やをら、やはら,"そっと"
なかなか(に),"中途半端に,かえって"
さすがに,"そうはいってもやはり,なんといってもやはり"
かたみに(互に),"互いに"
うたて,"いやな感じに,異様に怪しく"
なべて,"一般に,並ひととおり"
わざと,"わざわざ,特に,正式な"
あまた(数多),"たくさん"
ここら、そこら,"たくさん,たいそう"
え(〜打消),"(〜する)ことができない"
な〜そ,"(〜する)な,(〜し)てはならない"
おほかた(大方)(〜打消),"まったく,(打ち消しを伴わないで)だいたい"
さらに(更に)(〜打消),"まったく,(打ち消しを伴わないで)さらに"
世に(よに)(〜打消),"まったく,(打ち消しを伴わないで)実に"
たえて(絶えて)(〜打消),"まったく"
つゆ(〜打消),"少しも"
ゆめ、ゆめゆめ(〜打消、禁止),"決して〜ない,決して〜するな"
つやつや(〜打消),"まったく"
をさをさ(〜打消),"ほとんど〜ない"
よも(〜打消推量),"まさか〜ないだろう"
あなかしこ(〜禁止),"決して〜するな"
ためらふ,"気持ちを静める,ためらう"
やすらふ(休らふ),"ためらう,立ち止まる"
かたらふ(語らふ),"語り合う,親しく交際する,(男女が)契る,説得する"
住む(すむ),"(女のもとに)通う"
やむ(止む),"(そのまま)終わる"
うつろふ(移ろふ),"色あせる"
見出だす(みいだす),"外を見る,見つけ出し"
もてなす,"振る舞う,取り扱う"
あつかふ,"面倒を見る,もてあます"
あくがる,"(魂が体から)さまよい出る、浮かれ歩く"
あふ(合ふ、会ふ、逢ふ、敢ふ),"結婚する,(打消を伴い)耐えられない,(動詞に付き、打消を伴い)〜きれない,(「あへなむ」の形で)差し支えないだろう"
しほたる(潮垂る),"涙を流す"
かきくらす(掻き暗す),"空を暗くする,悲しみにくれる"
まどふ(惑ふ),"迷う,(動詞の連用形について)ひどく(〜する)"
たばかる(謀る),"工夫する,だます"
すさぶ(荒ぶ、進ぶ、遊ぶ),"(何かに)興じる、気の向くままに(何かを)する"
すまふ(争ふ、辞ふ),"抵抗する,断る"
まねぶ(学ぶ),"まねる,(見物した物事をそのまま)伝える"
ねぶ,"年をとる,大人びる"
おきつ(掟つ),"(こうしようと心に)決めておく,(こうしろと)指図する"
うれふ(愁ふ),"(嘆き)訴える"
むすぶ(結ぶ、掬ぶ),"できる,(両手で水などを)すくう"
とぶらふ(訪ふ、弔ふ),"訪ねる,見舞う,弔う"
やつす,"質素にする,出家する"
さはる(障る),"差し支える、妨げられる"
かしこまる(畏まる),"恐縮する、恐縮して正座する"
かこつ(託つ),"嘆く"
わく(分く),"理解する"
つつむ(慎む),"遠慮する"
あらまほし,"望ましい"
らうらうじ(労労じ),"巧みだ,上品だ"
うるせし,"賢い,巧みだ"
はかばかし,"しっかりしている,はっきりしている"
をさをさし(長長し),"しっかりしている"
さうなし(双無し),"比べるものがない"
くまなし(隈無し),"陰がない,なんでも知っている"
ずちなし(術無し),"どうしようもない"
好き(すき),"風流の道に熱中すること,色好み、恋愛"
好き好きし(すきずきし),"好色な"
わたす(渡す),"移す"
心地(ここち),"病気が、気分(の悪さ)"
いたはる,"病気をする、わずらう,苦労する、骨を折る"
かいまみ(垣間見),"のぞき見"
おこなひ,"仏道修行"
ときめかす,"寵愛する"
めづらし,"すばらしい"
おどろかす,"起こす,(はっと)気づかせる"
聞こえ,"噂、評判"
たのみ,"あてにすること、期待"
たのめ,"あてにさせること"
頼もし(たのもし),"頼みになる,裕福だ、豊かだ"
潜く(かづく),"潜る"
らうがはし,"騒がしい,乱雑だ、乱れている"
おこす,"よこす"
やる(破る),"破る"
いらへ、さしいらへ,"返事、返答"
にほひ,"美しい色つや,香り"
あかし(明かし),"明るい"
まうけ,"準備、用意,ごちそう、もてなし"
心まうけ,"心積もり"
まうけの君,"皇太子"
たぐふ,"(四段)添う、伴う,(下二段)添わせる、伴わせる、比べる"
さる(然る),"しかるべき、立派な"
ものし,"不快だ、見苦しい"
あり,"ある、いる,(ものごとを)する"
ならひ(慣らひ),"習慣、ならわし"
おもしろし,"すばらしい、楽しい、風流だ"
たのし,"裕福だ"
よし,"身分が高い、教養がある,よい"
あし,"悪い"
わろし,"よくはない"
つきなし,"ふさわしくない、似つかわしくない"
なまめく,"落ち着いて上品だ,若くみずみずしい"
にくし,"気にくわない、いやだ"
かなしうす,"かわいがる"
らうたげなり,"かわいい様子だ、かわいらしい"
いやし,"身分が低い,みすぼらしい"
ことごとし,"大げさだ"
むくつけし,"気味が悪い、恐ろしい、無骨だ"
心憂し,"つらい、いやだ、情けない"
むつかる,"不愉快に思う"
ふびんなり(不便なり),"不都合だ,気の毒だ"
いとけなし(いときなし),"幼い"
うしろやすし,"安心だ"
あきる(呆る),"途方に暮れる、呆然とする"
あさむ,"驚く、あきれる"
いまいまし(忌ま忌まし),"不吉だ、縁起が悪い"
あはら,"ああ"
あはれがる,"心に深く感じる"
あはれむ,"心に深く感じる"
まめまめし,"まじめだ,実用的だ"
あだあだし,"不誠実だ、浮気だ"
あてやかなり,"高貴だ,上品だ"
かりそめない,"ほんの一時的である"
なほざりなり,"本気でない、いい加減だ"
をこ,"愚かなこと"
をこがまし,"ばかばかしい"
女手(をんなで),"平仮名"
男手(をとこで),"漢字"
手習ひ,"習字,心に浮かぶ歌などを書き流すこと"
あそぶ,"管弦を楽しむ"
私(わたくし),"個人的なこと"
雲居(くもゐ),"空、雲,宮中"
たづき(方便),"手段、手がかり"
いそぐ(急ぐ),"急ぐ,準備する"
みめ(見目),"見た目、容貌"
気色ばむ(けしきばむ)、気色立つ(けしきだつ),"様子が外に現れる,思いを外に表す"
ことなり(異なり),"異なっている、格別だ"
ことに(殊に),"特に、とりわけ"
ことわりなり,"もっともである、当然である"
ことわる,"(道理に従って)判断、説明する"
ひがひがし,"ひねくれている,風流心がない"
まこと(真),"真実"
かづけもの,"ほうびの品物"
ひごろ(日頃),"数日(の間)、平生、普段"
つきごろ(月頃),"数ヶ月(の間)"
あした(朝),"朝,翌朝"
なぞ、なに、なにか、なにしに(何ぞ、何、何か、何しに),"どうして"
いとどし,"いっそうはなはだしい"
けに,"いっそう、ますます"
とかく(とかう),"あれこれと"
やや,"しだいに,かなり、いくらか"
うたてし,"いやだ、嘆かわしい"
なべてならず,"並ひととおりでない"
わざとならず,"ことさらではない、さりげない"
そこばく,"たくさん"
えならず、えもいはず,"言いようもない"
うちとく,"くつろぐ,油断する、気を許す"
知る(しる),"親しく付き合う、男女の交際をする"
かる(離る),"離れる"
見入る(みいる),"外から中を見る、のぞく"
求む(もとむ),"探す"
あはす,"結婚させる"
とりあへず,"すぐに"
つゆけし(露けし),"露が多い,涙がちだ"
はかる,"企てる、だます"
すさびごと,"慰みごと、楽しみや気晴らしになること"
およすく、およすぐ,"成長する,大人びる"
うれへ(愁へ),"訴え"
こしらふ,"なだめすかす,説得する"
問ふ(とふ)、おとなふ、おとづる,"訪ねる"
尋ぬ(たづぬ),"探し求める"
やつる,"目立たない服装(様子)になる、粗末な服装(様子)になる"
さはり(障り),"支障"
かごと(託言),"言い訳,恨み言、愚痴"
かごとがまし,"恨みがましい、嘆いているようだ"
わきがたし,"理解しがたい"
つつまし,"遠慮される、気がひける"
うるさし,"煩わしい,立派だ"
左右なし(さうなし),"あれこれ考えない、簡単だ,決着がつかない"
二なし(になし)、又なし(またなし),"この上もない"
隈(くま),"人目に付かない片隅,暗い物陰"
せむかたなし,"どうしようもない"
さがなし,"意地が悪い,いたずらだ"
あいなし,"つまらない,なんとなく"
まさなし,"よくない"
はかなし,"頼りない,ちょっとしたことだ"
こころづきなし,"気にくわない"
あへなし(敢へ無し),"落胆している,はかない"
おほけなし,"身のほど知らずだ"
よしなし(由無し),"つまらない,関係がない"
はしたなし,"きまり悪い,そっけない,激しい"
しどけなし,"怠慢だ,気楽だ"
いぎたなし,"寝坊だ"
ひとわろし(人悪し),"みっともない"
いぶせし,"うっとうしい,気がかりだ"
くちをし(口惜し),"残念だ"
あたらし(惜し),"惜しい"
ねたし,"くやしい"
こちたし,"うるさい,大げさだ,はなはだしい"
けし(怪し、異し),"異様だ"
わびし(侘びし),"苦しい"
こころぐるし(心苦し),"気の毒だ,気がかりだ"
まだし(未し),"まだ早い"
さかし(賢し),"優れている,しっかりしている,こざかしい"
まばゆし,"1まぶしい,美しい,恥ずかしい,見ていられない"
かたじけなし(忝し),"おそれ多い,おそれ多い,面目ない"
かしこし(畏し、賢し),"おそれ多い,優れている,うまい具合に、運のいいことに"
しげし(繁し、茂し),"多い"
すごし(凄し),"気味が悪い,さびしい,すばらしい"
いたし,"すばらしい,ひどい,はなはだしく,それほど"
おぼろけなり,"並ひととおりだ,並ひととおりではない"
なのめなり(斜めなり),"並ひととおりだ,いい加減だ,並ひととおりではない"
清らなり、けうらなり,"清らかで美しい"
まほなり,"完全である"
あらはなり(顕なり),"まる見えである"
あながちなり(強ちなり),"強引だ,むやみに"
せちなり(切なり),"切実である,大切である"
とみなり(頓なり),"急だ"
うちつけなり,"にわかだ,軽率だ"
さらなり(更なり),"言うまでもない"
ねんごろなり、ねむごろなり(懇ろなり),"心を込めている,親密だ"
おいらかなり,"おっとりしている"
あやにくなり,"意地が悪い,あいにくだ"
おぼえ(覚え),"評判,寵愛"
ひま(隙、暇),"すき間,合間"
いとま(暇),"暇,休むこと"
才(ざえ),"教養,才能"
よろこび(喜び),"お礼"
こころばへ(心ばへ),"気だて,心づかい,趣"
こころづくし(心尽くし),"もの思いをすること"
そこ,"あなた"
ここ,"このわたし"
かれ,"あの人"
それ,"その人,あなた"
これ,"このわたし"
あなた,"向こう"
そなた,"あなた"
こなた,"このわたし"
そのかみ,"その当時"
せうと(兄人),"兄"
おとうと、おとと(弟),"妹"
いも(妹),"いとしいあなた"
つま(夫、妻),"夫"
はらから(同胞),"兄弟"
かたへ(片方),"半分,傍ら,仲間"
ほど(程),"時、ころ、間、うち,広さ,身分,様子"
かぎり(限り),"限界,極致,臨終,すべて"
きは(際),"身分"
ついで(序),"序列,機会"
沙汰(さた),"評議、裁き,命令,噂"
とが(咎、科),"欠点,罪"
け(故),"ため"
よし(由),"風情,由緒,手立て,こと"
やう(様),"様子,理由,方法,〜ことには"
ちぎり(契り),"約束,宿縁"
ほだし(絆),"障害となるもの"
あやめ(文目),"道理"
うつつ(現),"現実,正気"
あるじ(主、饗),"もてなし"
ふるさと(古里、故郷),"なじみの土地,わが家"
さて(然て),"そのまま,そのほか"
さながら(然ながら),"そのまま,すべて"
いま(今),"すぐに,もう"
せめて,"強いて,ひどく"
むべ、うべ,"なるほど"
かつ,"一方では,すぐに"
ひねもす(終日),"一日中"
かまへて,"決して,なんとかして"
あへて(敢へて),"まったく"
かけて(も),"まったく、決して"
さだめて(定めて),"きっと"
のたまふ、のたまはす(宣ふ、宣はす),"おっしゃる(尊敬、本)"
仰す(おほす),"おっしゃる(尊敬、本),命令なさる(尊敬、本)"
聞こゆ、聞こえさす,"申し上げる(謙譲、本),(お)〜申し上げる(謙譲、補)"
申す(まうす),"申し上げる(謙譲、本),(お)〜申し上げる(謙譲、補)"
奏す(そうす),"(帝に)申し上げる(謙譲、本)"
啓す(けいす),"(中宮、東宮に)申し上げる(謙譲、本)"
承る(うけたまはる),"お受けする、お聞きする(謙譲、本)"
給ふ(たまふ),"お与えになる、下さる(尊敬、本),〜なさる(尊敬、補),〜て(おり)ます(謙譲、補)"
たまはす(給はす、賜はす),"お与えになる(尊敬、本)"
たまはる(賜はる、給はる),"いただく(謙譲、本),お与えになる(尊敬、本)"
召す,"お呼びになる(尊敬、本),お取り寄せになる(尊敬、本),お召しになる(尊敬、本),お乗りになる(尊敬、本)"
思す、思し召す(おぼす、おぼしめす),"お思いになる(尊敬、本)"
おほとのごもる(大殿籠る),"おやすみになる(尊敬、本)"
さぶらふ、さうらう(候ふ),"(貴人のそばに)お仕え申し上げる(謙譲、本),あります(丁寧、本),〜(でござい)ます(丁寧、補)"
はべり(侍り),"(貴人のそばに)お仕え申し上げる(謙譲、本),あります(丁寧、本),〜(でござい)ます(丁寧、補)"
奉る(たてまつる),"差し上げる(謙譲、本),(お)〜申し上げる(謙譲、補),お召しになる(尊敬、本),召し上がる(尊敬、本),お乗りになる(尊敬、本)"
参らす(まゐらす),"差し上げる(謙譲、本),(お)〜申し上げる(謙譲、補)"
まゐる、まうづ(参る、詣づ),"参上する(謙譲、本),貴人に何かをして差し上げる、格子をお上げになる/お下げになる(謙譲、本),召し上がる(尊敬、本)"
まかる、まかづ,"(貴所から)退出する(謙譲、本),出かけます(丁寧、本)"
あそばす(遊ばす),"(何かを)なさる(尊敬、本)"
つか(う)まつる(仕(う)まつる),"お仕え申し上げる(謙譲、本),し申し上げる(謙譲、本)"
聞こし召す,"お聞きになる(尊敬、本),召し上がる(尊敬、本)"
しろしめす,"知っていらっしゃる(尊敬、本),お治めになる(尊敬、本)"
おはす、おはします,"いらっしゃる(尊敬、本),〜(て)いらっしゃる(尊敬、補)"
います、ます、まします、いますかり,"いらっしゃる(尊敬、本),〜(て)いらっしゃる(尊敬、補)"
御覧ず,"御覧になる(尊敬、本)"
あかず(飽かず),"もの足りなく,飽きることなく"
あからめもせず,"よそ見もしないで"
あなかま,"静かに"
あらぬ,"別の"
ありありて,"結局"
ありし,"以前の"
ありつる,"先程の"
あれかにもあらず,"呆然として"
いかがはせむ,"どうしようもない"
いさ〜知らず,"さあ〜分からない"
いざ(させ)給へ,"さあいらっしゃい"
いとしもなし,"たいしたこともない"
いはむかたなし(言はむ方なし),"言いようもなく"
いふかいなし,"取るに足りない"
〜(と)いふもおろかなり,"〜という言葉では言い尽くせせない"
いふもさらなり,"言うまでもない,言うまでもなく"
色に出づ,"表情に出る"
寝を寝,"寝る"
えならず,"言いようもなくすばらしい"
音に聞く,"噂に聞く"
数ならず,"取るに足りない"
くるしからず,"差し支えない"
見参に入る,"お目にかかる"
こころあり＝なさけあり,"風流心がある,分別がある"
心置く,"気にかける,気がねする"
こころ(を)やる,"気晴らしをする,満足する"
こころゆく,"満足する"
させる,"たいした(〜ない)"
さはれ、さばれ,"どうとでもなれ"
さらでだに,"ただでさえ"
さらぬ(然らぬ、避らぬ),"それ以外の,避けられない"
さるべき,"そうなるはずの,適当な,立派な"
さるべきにや(ありけむ),"そうなるはずの前世からの因縁であったのだろうか"
さるものにて,"言うまでもないことで"
さればよ,"案の定だ"
そのこととなく,"これということもなく"
そばめにかく,"横目で見る"
ただならずなる,"懐妊する"
力なし,"どうしようもない"
ときしもあれ,"ほかに時もあろうに"
ときにあふ,"ちょうどよい時期に出会う,時流に乗って栄える"
とばかり,"ちょっとの間"
なでふ、なんでふ、なんでう、何条(なじょう、なんじょう、なんじょう、なんじょう),"なんという,どうして"
名に(し)負ふ,"名前を持つ,有名である"
何(に)か(は)せむ,"何にもならない"
音を泣く(ねをなく),"声を上げて泣く"
〜のがり,"〜のもとへ"
〜ばこそあらめ,"〜ならばともかく(実際はそうではない)"
人となる,"一人前になる,正気に戻る"
ひとやりならず,"自分のせいである"
またの,"次の"
〜ままに,"〜(する)とすぐに,〜ので"
昔の人,"亡くなった人,昔なじみであった人"
目もあやなり,"まぶしいほど立派で"
〜やおそきと,"〜(する)とすぐに"
やらん,"〜であろうか"
やるかたなし,"(心を)晴らしようがない"
世にあり,"世間で評判の高い"
例ならず,"普段と違って,体調がいつもどおりでない"
例の,"いつものように,いつもの"
たいだいし,"もってのほかだ、不都合だ"
あぢきなし,"おもしろくない、つまらない"
そこはかとなし,"何ということもない"
よしなしごと,"つまらないこと"
はしたなむ,"恥ずかしい思いをさせる"
ものぐるほし,"正気を失ったようだ"
いぶかし,"気がかりだ、もっと知りたい"
あたら,"惜しいことに"
こちなし,"不作法だ、ぶしつけだ,無骨だ、無風流だ"
けしからず,"よくない"
けしう(は)あらず,"悪くはない"
またき,"早くも、もう"
またし,"完全だ"
さかしら,"利口ぶること、こざかしさ"
けやけし,"際立っている、はっきりしている,(際立って)すばらしい,(際立って)異様だ、悪い、生意気だ"
おぼろけならず,"並ひととおりではない"
なのめならず,"並ひととおりではない"
清げなり,"さっぱりとして美しい"
かたほなり,"不完全だ、未熟だ"
とみに,"急に"
おほどかなり,"おっとりしている"
よろこび申し,"お礼を申し上げること"
心ばせ,"気だて、性質,心づかい、気配り"
このかみ(兄),"兄、姉,年長者"
背,"いとしい人"
つま(端),"はし、へり,端緒、きっかけ"
限りなし,"この上もない"
けぢめ,"違い、隔て、隔たり"
品(しな),"身分,気品"
しだい(次第),"順序"
罪,"罪,(罪を犯して受ける)罰"
ゆゑ(故),"原因、理由,趣、風情,由緒、家柄"
さま(様),"様子、ありさま,方法,方角"
あやなし(文無し),"わけがわからない"
さてしもあらず,"そのままにしておくわけにもいかない"
さてしもあるべきことならず,"そのままにしておくこともできない"
しかしながら,"そっくりそのまま、すべて"
今はかく(今はかう)、今は限り,"もはやこれまで"
いまめかし,"当世風だ、華やかだ"
はた,"また、やはり"
日暮らし(ひぐらし)、日一日(ひひとひ),"一日中"
夜もすがら,"一晩中"
たぶ、たうぶ,"(=給ふ)、,お与えになる、下さる,〜なさる、お〜になる,〜(ており)ます"
つかはす(遣はす),"(人や物を)おやりになる(尊敬),行かせる、やる"
思ほす,"お思いになる(尊敬)
`;

let wordPairs = sampleWords;
let quizList = [];
let currentIndex = 0;
let score = 0;
let globalTime = 0;
let globalTimerInterval = null;

// DOM
const startBtn = document.getElementById('startBtn');
const rangeStart = document.getElementById('rangeStart');
const rangeEnd = document.getElementById('rangeEnd');
const quizArea = document.getElementById('quizArea');
const englishWordDiv = document.getElementById('englishWord');
const choicesDiv = document.getElementById('choices');
const progressDiv = document.getElementById('progress');
const summaryDiv = document.getElementById('summary');
const globalTimerDiv = document.getElementById('globalTimer');
const minuteSelect = document.getElementById('minuteSelect');
const secondSelect = document.getElementById('secondSelect');

// セレクトをホイール風にする
for (let i=0;i<=59;i++){
  let opt1=document.createElement("option");
  opt1.value=i; opt1.textContent=i;
  minuteSelect.appendChild(opt1);
  let opt2=document.createElement("option");
  opt2.value=i; opt2.textContent=i;
  secondSelect.appendChild(opt2);
}

startBtn.addEventListener('click', () => {
  const start = parseInt(rangeStart.value)||1;
  const end = parseInt(rangeEnd.value)||wordPairs.length;

  if (start<1 || end>wordPairs.length || start>=end){
    alert("範囲指定が不正です");
    return;
  }
  const selected = wordPairs.slice(start-1,end);
  quizList = [...selected];
  quizList.sort(()=>Math.random()-0.5);

  // 時間を自動設定（単語数＝秒数）
  globalTime = quizList.length;

  // UI にも反映
  const m = Math.floor(globalTime/60);
  const s = globalTime%60;
  minuteSelect.value=m;
  secondSelect.value=s;

  score=0; currentIndex=0;
  quizArea.classList.remove('hidden');
  summaryDiv.classList.add('hidden');

  startGlobalTimer();
  showQuestion();
});

function startGlobalTimer(){
  clearInterval(globalTimerInterval);
  updateGlobalTimer();
  globalTimerInterval = setInterval(()=>{
    globalTime--;
    updateGlobalTimer();
    if (globalTime<=0){
      clearInterval(globalTimerInterval);
      showSummary(true);
    }
  },1000);
}

function updateGlobalTimer(){
  globalTimerDiv.textContent = `残り時間: ${globalTime}秒`;
}

function showQuestion(){
  if (currentIndex >= quizList.length){
    return showSummary();
  }
  const item = quizList[currentIndex];
  progressDiv.textContent = `${currentIndex+1} / ${quizList.length}`;
  englishWordDiv.textContent = item.english;

  const correct = item.japanese;
  const pool = [...wordPairs.map(w=>w.japanese)];
  const wrongs = [];
  while (wrongs.length<3){
    const c = pool[Math.floor(Math.random()*pool.length)];
    if (c!==correct && !wrongs.includes(c)) wrongs.push(c);
  }
  const choices = [correct,...wrongs].sort(()=>Math.random()-0.5);

  choicesDiv.innerHTML = "";
  choices.forEach(ch=>{
    const btn=document.createElement("button");
    btn.className="choiceBtn";
    btn.textContent=ch;
    btn.onclick=()=>selectChoice(btn,ch,correct);
    choicesDiv.appendChild(btn);
  });
}

function selectChoice(btn,selected,correct){
  const buttons=document.querySelectorAll(".choiceBtn");
  buttons.forEach(b=>{
    b.disabled=true;
    if (b.textContent===correct){
      b.classList.add("correct");
    }else if (b===btn && selected!==correct){
      b.classList.add("wrong");
    }
  });

  if (selected===correct){
    score++;
    setTimeout(()=>{ currentIndex++; showQuestion(); },500);
  }else{
    quizList.push(quizList[currentIndex]); // 後ろに回す
    setTimeout(()=>{ currentIndex++; showQuestion(); },500);
  }
}

function showSummary(timeout=false){
  clearInterval(globalTimerInterval);
  quizArea.classList.add('hidden');
  summaryDiv.classList.remove('hidden');
  summaryDiv.innerHTML=`<h2>結果</h2>
  <p>${timeout?"時間切れ！ ":""}正答数: ${score} / ${quizList.length}</p>`;
}
</script>
</body>
</html>
